# –†–∞–∑–¥–µ–ª –ê–Ω–∞–ª–∏—Ç–∏–∫–∏ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä

–†–∞–∑–¥–µ–ª –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –ø–æ–¥—Ä–æ–±–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∑–∞–∫–∞–∑–∞–º, —Ä–∞—Å—Ö–æ–¥–∞–º –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º –∫–æ–º–ø–∞–Ω–∏–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìä –ú–µ—Ç—Ä–∏–∫–∏ –∑–∞–∫–∞–∑–æ–≤
- **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤** - –≤—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- **–ó–∞–∫–∞–∑—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º:**
  - –î–æ–±–∞–≤–ª–µ–Ω
  - –ò—Å–ø–æ–ª–Ω–µ–Ω  
  - –û—Ç–ø—Ä–∞–≤–ª–µ–Ω
  - –û—Ç–º–µ–Ω–µ–Ω
  - –í–æ–∑–≤—Ä–∞—Ç

### üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- **–û–±—â–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–æ–≤** - –≤—ã–ø–ª–∞—Ç—ã –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º –∑–∞–∫–∞–∑–∞–º
- **–°—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞ —Ü–µ–Ω—ã –∑–∞–∫–∞–∑–æ–≤** - —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫
- **–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞** - –¥–æ—Ö–æ–¥—ã –æ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- **–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å** - –≤—ã—Ä—É—á–∫–∞ –º–∏–Ω—É—Å —Ä–∞—Å—Ö–æ–¥—ã

### üìâ –†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
  - –ê—Ä–µ–Ω–¥–∞
  - –ó–∞—Ä–ø–ª–∞—Ç–∞
  - –†–∞—Å—Ö–æ–¥–Ω–∏–∫–∏
  - –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥
  - –ù–∞–ª–æ–≥–∏
  - –¢–∫–∞–Ω—å
  - –ö—É—Ä—å–µ—Ä
  - –†–∞—Å—Ö–æ–¥–Ω–∏–∫–∏ —à–≤–µ–π–∫–∏
  - –î—Ä—É–≥–æ–µ

## –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### üìÖ –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º
- **–ë—ã—Å—Ç—Ä—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:**
  - –¢–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
  - –¢–µ–∫—É—â–∏–π –≥–æ–¥
  - –ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
  
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã:**
  - –î–∞—Ç–∞ –æ—Ç (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)
  - –î–∞—Ç–∞ –¥–æ (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)

### üë§ –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–¥–∞–≤—Ü–∞–º
- –í—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞
- –û–ø—Ü–∏—è "–í—Å–µ –ø—Ä–æ–¥–∞–≤—Ü—ã" –¥–ª—è –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–î–æ—Å—Ç—É–ø:** –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞" –≤ –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∏ –ø—Ä–æ–¥–∞–≤—Ü–∞ —Å –ø–æ–º–æ—â—å—é —Ñ–∏–ª—å—Ç—Ä–æ–≤
3. **–ê–Ω–∞–ª–∏–∑:** –ò–∑—É—á–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

–î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

- `analytics_orders_daily` - –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤
- `analytics_expenses_daily` - –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤
- `analytics_summary` - –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—â–µ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏:
- –°–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞
- –ò–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ä–∞—Å—Ö–æ–¥–∞
- –ò–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π

### SQL —Ñ—É–Ω–∫—Ü–∏–∏

- `update_orders_analytics(date)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∑–∞–∫–∞–∑–æ–≤ –∑–∞ –¥–µ–Ω—å
- `update_expenses_analytics(date)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∑–∞ –¥–µ–Ω—å
- `refresh_analytics(date)` - –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SQL

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç:

```sql
-- –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
\i sql/analytics_tables.sql

-- –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ñ–∞–π–ª–µ)
-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 365 –¥–Ω–µ–π
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `src/components/admin/Analytics.tsx` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `src/app/DashboardRoot.tsx`

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- React hooks –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏
- date-fns –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏
- shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —Å useMemo
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥–∞–≤—Ü–∞
1. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞ –≤ —Ñ–∏–ª—å—Ç—Ä–µ
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü)
3. –ò–∑—É—á–∏—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –∑–∞–∫–∞–∑–æ–≤ –∏ –≤—ã—Ä—É—á–∫—É

### –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞—Å—Ö–æ–¥–æ–≤
1. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É "–†–∞—Å—Ö–æ–¥—ã" 
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º–∏ —Ç—Ä–∞—Ç–∞–º–∏
3. –°—Ä–∞–≤–Ω–∏—Ç–µ —Å –≤—ã—Ä—É—á–∫–æ–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏

### –í—Ä–µ–º–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏–∑
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã (–º–µ—Å—è—Ü, –≥–æ–¥, 30 –¥–Ω–µ–π)
2. –°—Ä–∞–≤–Ω–∏—Ç–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏
3. –í—ã—è–≤–∏—Ç–µ —Ç—Ä–µ–Ω–¥—ã –∏ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å

## –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- üìà –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –¥–∏–∞–≥—Ä–∞–º–º
- üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤ 
- üìä –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —Ç–æ–≤–∞—Ä–∞–º
- üì± –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤
- üéØ KPI –∏ —Ü–µ–ª–∏ 